<table mat-table
       [dataSource]="dataSource">

  <ng-container *ngFor="let column of columns"
                matColumnDef="{{ column.id }}">

    <th mat-header-cell
        *matHeaderCellDef>
      {{ column.name }}
    </th>

    <td mat-cell *matCellDef="let element">
      {{ getValue(element, column.id) }}
    </td>

  </ng-container>

  <tr mat-header-row
      *matHeaderRowDef="displayedColumns; sticky: true">
  </tr>

  <tr mat-row *matRowDef="let row; columns: displayedColumns;"
      [selectItem]="selectedRow?.id === row.id"
      (click)="onRowClick(row)">
  </tr>
</table>
